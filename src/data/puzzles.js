// Curated tactical puzzles — solution is alternating UCI moves (player, opponent, player, ...)
// Player moves are verified; opponent moves are auto-played.

export const PUZZLES = [
  // === BEGINNER (1-move tactics) ===
  {
    id: 'back_rank_1',
    name: 'Back Rank Mate #1',
    theme: 'Back Rank',
    difficulty: 'beginner',
    fen: '6k1/5ppp/8/8/8/8/8/R3K3 w - - 0 1',
    playerColor: 'white',
    solution: ['a1a8'],
    hint: 'The king is trapped behind its own pawns.',
  },
  {
    id: 'back_rank_2',
    name: 'Back Rank Mate #2',
    theme: 'Back Rank',
    difficulty: 'beginner',
    fen: '3r2k1/5ppp/8/8/8/8/5PPP/R5K1 b - - 0 1',
    playerColor: 'black',
    solution: ['d8d1', 'a1d1'],
    hint: 'Deliver checkmate on the first rank.',
  },
  {
    id: 'fork_knight_1',
    name: 'Knight Fork',
    theme: 'Fork',
    difficulty: 'beginner',
    fen: 'r3k2r/ppp2ppp/2n5/3N4/2B1P3/8/PPP2PPP/R3K2R w KQkq - 0 1',
    playerColor: 'white',
    solution: ['d5c7'],
    hint: 'Your knight can attack two pieces at once.',
  },
  {
    id: 'mate_queen_1',
    name: 'Queen Checkmate',
    theme: 'Checkmate',
    difficulty: 'beginner',
    fen: '5rk1/5ppp/8/8/8/8/4QPPP/6K1 w - - 0 1',
    playerColor: 'white',
    solution: ['e2e8'],
    hint: 'Can your queen reach the back rank?',
  },
  {
    id: 'hanging_piece_1',
    name: 'Win the Queen',
    theme: 'Hanging Piece',
    difficulty: 'beginner',
    fen: 'r1bqkbnr/pppp1ppp/2n5/4N3/4P3/8/PPPP1PPP/RNBQKB1R w KQkq - 0 1',
    playerColor: 'white',
    solution: ['e5c6'],
    hint: 'One of your pieces attacks an undefended piece.',
  },

  // === MEDIUM (1-2 move tactics) ===
  {
    id: 'pin_bishop_1',
    name: 'Bishop Pin',
    theme: 'Pin',
    difficulty: 'medium',
    fen: 'r1bqk2r/ppppbppp/2n2n2/4p3/2B1P3/5N2/PPPP1PPP/RNBQ1RK1 w kq - 0 1',
    playerColor: 'white',
    solution: ['c4f7', 'e8f7'],
    hint: 'Can you attack a piece that is pinned to the king?',
  },
  {
    id: 'skewer_1',
    name: 'Rook Skewer',
    theme: 'Skewer',
    difficulty: 'medium',
    fen: '4k3/8/8/8/8/r7/4K3/7R w - - 0 1',
    playerColor: 'white',
    solution: ['h1a1'],
    hint: 'Attack along the rank — the king must move, exposing the rook.',
  },
  {
    id: 'discovered_1',
    name: 'Discovered Attack',
    theme: 'Discovered Attack',
    difficulty: 'medium',
    fen: 'r1bqkb1r/pppp1ppp/2n5/4p3/2B1n3/5N2/PPPP1PPP/RNBQ1RK1 w kq - 0 1',
    playerColor: 'white',
    solution: ['c4f7', 'e8e7', 'f7d5'],
    hint: 'Move a piece to reveal an attack from another piece behind it.',
  },
  {
    id: 'fork_queen_1',
    name: 'Queen Fork',
    theme: 'Fork',
    difficulty: 'medium',
    fen: 'r3kb1r/ppp1pppp/5n2/3q4/3P4/2N5/PPP2PPP/R1BQK2R w KQkq - 0 1',
    playerColor: 'white',
    solution: ['c3d5', 'f6d5'],
    hint: 'Your knight can attack the queen and another piece.',
  },
  {
    id: 'pin_rook_1',
    name: 'Pin and Win',
    theme: 'Pin',
    difficulty: 'medium',
    fen: '2kr4/ppp2ppp/2n5/3b4/8/2N2B2/PPP2PPP/2KR4 w - - 0 1',
    playerColor: 'white',
    solution: ['f3c6', 'b7c6', 'd1d5'],
    hint: 'Pin a piece to the king, then capture material.',
  },

  // === HARD (2-3 move combinations) ===
  {
    id: 'sacrifice_mate_1',
    name: 'Sacrifice for Mate',
    theme: 'Sacrifice',
    difficulty: 'hard',
    fen: 'r1b1k2r/ppppqppp/2n2n2/2b5/2B1P3/2N2Q2/PPPP1PPP/R1B1K2R w KQkq - 0 1',
    playerColor: 'white',
    solution: ['c4f7', 'e7f7', 'f3f7'],
    hint: 'A sacrifice opens the king — can you follow up?',
  },
  {
    id: 'deflection_1',
    name: 'Deflection',
    theme: 'Deflection',
    difficulty: 'hard',
    fen: '2r3k1/5ppp/8/8/8/2B5/5PPP/1R4K1 w - - 0 1',
    playerColor: 'white',
    solution: ['b1b8', 'c8b8', 'c3g7'],
    hint: 'Deflect the defender, then strike.',
  },
  {
    id: 'combo_1',
    name: 'Tactical Combination',
    theme: 'Combination',
    difficulty: 'hard',
    fen: 'r4rk1/ppp2ppp/2n1b3/3nN3/3P4/2N1B3/PPP2PPP/R2Q1RK1 w - - 0 1',
    playerColor: 'white',
    solution: ['e5c6', 'b7c6', 'd1g4'],
    hint: 'Exchange a piece, then use the open lines.',
  },
  {
    id: 'sacrifice_mate_2',
    name: 'Queen Sacrifice',
    theme: 'Sacrifice',
    difficulty: 'hard',
    fen: '6k1/pp3ppp/8/2r5/8/1P4Q1/P4PPP/6K1 w - - 0 1',
    playerColor: 'white',
    solution: ['g3c7'],
    hint: 'Can you win material with a forcing move?',
  },
  {
    id: 'trapped_piece_1',
    name: 'Trap the Bishop',
    theme: 'Trapped Piece',
    difficulty: 'hard',
    fen: 'r1bqkbnr/1ppp1ppp/p1n5/4p3/B3P3/5N2/PPPP1PPP/RNBQK2R b KQkq - 0 1',
    playerColor: 'black',
    solution: ['b7b5', 'a4b3', 'c6a5'],
    hint: 'Push the bishop back and trap it.',
  },

  // === EXPERT (3+ move deep tactics) ===
  {
    id: 'deep_combo_1',
    name: 'Clearance Sacrifice',
    theme: 'Sacrifice',
    difficulty: 'expert',
    fen: 'r2q1rk1/ppp2ppp/2n1bn2/3pp3/2B1P3/2NP1N2/PPP1QPPP/R1B2RK1 w - - 0 1',
    playerColor: 'white',
    solution: ['e4d5', 'e6d5', 'c4d5', 'f6d5', 'c3d5'],
    hint: 'Open the center with exchanges — which captures win material?',
  },
  {
    id: 'deep_combo_2',
    name: 'Rook Endgame Tactic',
    theme: 'Combination',
    difficulty: 'expert',
    fen: '8/p4pkp/1p6/5R2/2r5/6PP/PP3P1K/8 w - - 0 1',
    playerColor: 'white',
    solution: ['f5a5', 'c4c2', 'a5a7'],
    hint: 'Activate your rook to attack the pawns.',
  },
  {
    id: 'smothered_mate',
    name: 'Smothered Mate',
    theme: 'Checkmate',
    difficulty: 'expert',
    fen: 'r1b3kr/pppn1pNp/8/3q4/8/8/PPPP1PPP/RNB1K2R w KQ - 0 1',
    playerColor: 'white',
    solution: ['g7h5', 'g8h8', 'h5f6', 'h8g8', 'f6h5'],
    hint: 'A knight can deliver checkmate when the king is surrounded by its own pieces.',
  },
  {
    id: 'greek_gift',
    name: 'Greek Gift Sacrifice',
    theme: 'Sacrifice',
    difficulty: 'expert',
    fen: 'r1bq1rk1/pppnnppp/4p3/3pP3/1b1P4/2NB1N2/PPP2PPP/R1BQ1RK1 w - - 0 1',
    playerColor: 'white',
    solution: ['d3h7', 'g8h7', 'f3g5', 'h7g8', 'd1h5'],
    hint: 'The classic bishop sacrifice on h7 — can you follow up correctly?',
  },
  {
    id: 'windmill',
    name: 'Windmill Attack',
    theme: 'Combination',
    difficulty: 'expert',
    fen: '6k1/pp3pp1/3p3p/1B6/4r3/1P2R3/P4PPP/6K1 w - - 0 1',
    playerColor: 'white',
    solution: ['e3e4'],
    hint: 'Sometimes the simplest move wins material.',
  },
];

export const DIFFICULTY_ORDER = { beginner: 0, medium: 1, hard: 2, expert: 3 };
